#include <iostream>
#include <stdio.h>
#include <math.h>
using namespace std;

int  n=100;
double f(double x, double y){
	return (y*(y-1.0))/x;
}

int main(int argc, char *argv[])
{
    double x=1.0,y=1.0/2.0,h,a,b,delta,delta2,x1,x2,x3,x4;
	a=1.0;
	b=2.0;
	h=(b-a)/(double)n;


for (int i=1;i<=n;i++){
		x1=f(x,y);
		x2=f(x+h/2.0,y+h/2.0*x1);
			y=y+h*x2;
			x=x+h;
	}

delta=y-1.0/3.0;
	printf("arect y=%.16lf num y=%.16lf delta=%.16lf \n",1.0/3.0,y,delta);
	n=200;
	x=1.0;y=1.0/2.0;h=(b-a)/n;




	for (int i=1;i<=n;i++){
		x1=f(x,y);
		x2=f(x+h/2.0,y+h/2.0*x1);
			y=y+h*x2;
			x=x+h;
	}
 delta2=y-1.0/3.0;
	printf("arect y=%.16f num y=%.16f delta=%.16f p=%f\n",1.0/3.0,y,delta2,log2(fabs(delta/delta2)));

    return 0;
}